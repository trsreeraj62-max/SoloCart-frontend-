<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Checkout</title>

    <!-- Tailwind CDN (OK for now) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body class="bg-[#f1f3f6] min-h-screen">
    <div class="max-w-5xl mx-auto py-8 px-4">
      <!-- STEP INDICATOR -->
      <div class="flex items-center justify-center mb-8 gap-6">
        <div class="flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center"
          >
            <i class="fas fa-check text-xs"></i>
          </span>
          <span class="text-xs font-bold text-gray-400 uppercase">Summary</span>
        </div>

        <div class="w-12 h-[2px] bg-green-200"></div>

        <div class="flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold"
            >2</span
          >
          <span class="text-xs font-bold text-gray-800 uppercase">Payment</span>
        </div>

        <div class="w-12 h-[2px] bg-gray-200"></div>

        <div class="flex items-center gap-2 opacity-40">
          <span
            class="w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center font-bold"
            >3</span
          >
          <span class="text-xs font-bold text-gray-400 uppercase">Finish</span>
        </div>
      </div>

      <!-- MAIN GRID -->
      <div class="grid md:grid-cols-3 gap-6">
        <!-- LEFT : ORDER SUMMARY -->
        <div class="md:col-span-2 space-y-4">
          <div class="bg-white border shadow-sm p-6">
            <h2 class="text-lg font-black mb-4">ORDER SUMMARY</h2>

            <div class="flex gap-4 border-b pb-4">
              <img
                src="{{ asset('storage/'.$item['image']) }}"
                class="w-24 h-24 object-cover rounded border"
              />

              <div class="flex-1">
                <h3 class="font-bold text-gray-800">{{ $item['name'] }}</h3>
                <p class="text-sm text-gray-500 mt-1">
                  Quantity: {{ $item['qty'] }}
                </p>
                <p class="text-sm text-green-600 font-bold mt-1">In Stock</p>
              </div>

              <div class="font-black text-lg">
                ₹{{ number_format($item['price']) }}
              </div>
            </div>

            <div class="flex justify-between mt-4 text-lg font-black">
              <span>Total Amount</span>
              <span class="text-blue-600"
                >₹{{ number_format($totalPrice) }}</span
              >
            </div>
          </div>
        </div>

        <!-- RIGHT : PAYMENT -->
        <div class="bg-white border shadow-sm p-6 h-fit">
          <form action="{{ route('checkout.success.post') }}" method="POST">
            @csrf

            <h3 class="text-lg font-black mb-4">PAYMENT OPTIONS</h3>

            <!-- UPI -->
            <label
              class="flex items-center gap-3 p-3 border rounded mb-3 cursor-pointer hover:bg-gray-50"
            >
              <input type="radio" name="method" value="upi" checked />
              <span class="font-bold">UPI (PhonePe / GPay)</span>
            </label>

            <!-- COD -->
            <label
              class="flex items-center gap-3 p-3 border rounded mb-6 cursor-pointer hover:bg-gray-50"
            >
              <input type="radio" name="method" value="cod" />
              <span class="font-bold">Cash on Delivery</span>
            </label>

            <button
              type="submit"
              class="w-full bg-[#fb641b] text-white py-4 font-black tracking-wider hover:bg-[#ff4500] transition"
            >
              CONFIRM & PAY ₹{{ number_format($totalPrice) }}
            </button>

            <p class="text-[11px] text-gray-400 text-center mt-4">
              <i class="fas fa-lock mr-1"></i> Secure Payment
            </p>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
