<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Checkout</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>

  <body class="bg-[#f1f3f6] min-h-screen">
    <!-- Navbar (Optional, or match other pages) -->
    
    <div class="max-w-5xl mx-auto py-8 px-4">
      <!-- STEP INDICATOR -->
      <div class="flex items-center justify-center mb-8 gap-6">
        <div class="flex items-center gap-2">
          <span class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center">
            <i class="fas fa-check text-xs"></i>
          </span>
          <span class="text-xs font-bold text-gray-400 uppercase">Summary</span>
        </div>
        <div class="w-12 h-[2px] bg-green-200"></div>
        <div class="flex items-center gap-2">
          <span class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold">2</span>
          <span class="text-xs font-bold text-gray-800 uppercase">Payment</span>
        </div>
        <div class="w-12 h-[2px] bg-gray-200"></div>
        <div class="flex items-center gap-2 opacity-40">
          <span class="w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center font-bold">3</span>
          <span class="text-xs font-bold text-gray-400 uppercase">Finish</span>
        </div>
      </div>

      <!-- MAIN GRID -->
      <div class="grid md:grid-cols-3 gap-6 payment-grid-reverse">
        <!-- LEFT: Address & Order Summary -->
        <div class="md:col-span-2 space-y-4">
            <!-- Address Display -->
            <div class="bg-white border shadow-sm p-4">
                <h3 class="font-bold text-gray-500 uppercase text-xs mb-2">Deliver To:</h3>
                <div id="payment-address" class="font-bold text-gray-800">
                    <!-- JS Injected -->
                </div>
            </div>

            <!-- Items -->
            <div class="bg-white border shadow-sm p-4">
                 <h3 class="font-bold text-gray-500 uppercase text-xs mb-2">Order Items</h3>
                 <div id="payment-order-list">
                     <!-- JS Injected -->
                 </div>
            </div>

            <!-- Total -->
            <div class="bg-white border shadow-sm p-6 text-center">
                <h2 class="text-lg font-black mb-3 uppercase tracking-widest text-gray-700">
                Total Payable Amount
                </h2>
                <div id="payment-total-amount" class="text-4xl font-black text-[#2874f0]">
                â‚¹0
                </div>
                <p class="text-xs text-gray-400 mt-2">Inclusive of all taxes & charges</p>
            </div>
        </div>

        <!-- RIGHT: Payment Options -->
        <div class="bg-white border shadow-sm p-6 h-fit">
          <h3 class="text-lg font-black mb-4">Payment Options</h3>

          <!-- UPI -->
          <label class="block mb-3 payment-option-label">
              <div class="flex items-center gap-3 p-3 border rounded cursor-pointer hover:bg-blue-50">
                <input type="radio" name="payment_method" value="upi" />
                <i class="fa-brands fa-google-pay text-2xl"></i>
                <span class="font-bold">Google Pay / UPI</span>
              </div>
              <div id="upi-fields" class="hidden mt-2 p-2 bg-gray-50 border rounded text-sm">
                  <input type="text" id="upi-id" placeholder="Enter UPI ID (e.g. name@oksbi)" class="w-full p-2 border rounded">
              </div>
          </label>

          <!-- Card -->
          <label class="block mb-3 payment-option-label">
              <div class="flex items-center gap-3 p-3 border rounded cursor-pointer hover:bg-blue-50">
                <input type="radio" name="payment_method" value="card" />
                <i class="fa-regular fa-credit-card text-xl"></i>
                <span class="font-bold">Credit / Debit Card</span>
              </div>
              <div id="card-fields" class="hidden mt-2 p-2 bg-gray-50 border rounded text-sm space-y-2">
                  <input type="text" id="card-number" placeholder="Card Number" class="w-full p-2 border rounded">
                  <div class="flex gap-2">
                       <input type="text" id="card-expiry" placeholder="MM/YY" class="w-1/2 p-2 border rounded">
                       <input type="text" id="card-cvv" placeholder="CVV" class="w-1/2 p-2 border rounded">
                  </div>
              </div>
          </label>

          <!-- Netbanking -->
          <label class="block mb-3 payment-option-label">
              <div class="flex items-center gap-3 p-3 border rounded cursor-pointer hover:bg-blue-50">
                <input type="radio" name="payment_method" value="netbanking" />
                <i class="fa-solid fa-building-columns text-lg"></i>
                <span class="font-bold">Net Banking</span>
              </div>
              <div id="netbank-fields" class="hidden mt-2 p-2 bg-gray-50 border rounded text-sm">
                   <select id="netbank-select" class="w-full p-2 border rounded">
                       <option value="">Select Bank</option>
                       <option value="sbi">SBI</option>
                       <option value="hdfc">HDFC</option>
                       <option value="icici">ICICI</option>
                       <option value="axis">Axis</option>
                   </select>
              </div>
          </label>

          <!-- COD -->
          <label class="block mb-6 payment-option-label">
              <div class="flex items-center gap-3 p-3 border rounded cursor-pointer hover:bg-blue-50">
                <input type="radio" name="payment_method" value="cod" checked />
                <i class="fa-solid fa-money-bill-wave text-lg"></i>
                <span class="font-bold">Cash on Delivery</span>
              </div>
          </label>

          <button
            id="pay-now-btn"
            class="w-full bg-[#fb641b] text-white py-4 font-black tracking-wider hover:bg-[#ff4500] transition disabled:opacity-50"
          >
            CONFIRM & PAY
          </button>

          <p class="text-[11px] text-gray-400 text-center mt-4">
            <i class="fas fa-lock mr-1"></i> Secure Payment
          </p>
        </div>
      </div>
    </div>

    <!-- MAIN APP SCRIPT -->
    <script type="module" src="./js/payment.js"></script>
    <!-- TOAST UTILITY (IF NOT IN MAIN) -->
    <div id="toast-container" class="fixed bottom-4 right-4 flex flex-col gap-2 z-50"></div>
    <script>
        window.showToast = function(msg, type="success") {
            const container = document.getElementById("toast-container");
            const div = document.createElement("div");
            div.className = `px-4 py-3 rounded shadow-lg text-white font-bold text-sm ${type==='error'?'bg-red-500':'bg-gray-800'}`;
            div.innerText = msg;
            container.appendChild(div);
            setTimeout(() => div.remove(), 3000);
        }
    </script>
  </body>
</html>
