<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Checkout</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>

  <body class="bg-[#f1f3f6] min-h-screen">
    <div class="max-w-5xl mx-auto py-8 px-4">
      <!-- STEP INDICATOR -->
      <div class="flex items-center justify-center mb-8 gap-6">
        <div class="flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center"
          >
            <i class="fas fa-check text-xs"></i>
          </span>
          <span class="text-xs font-bold text-gray-400 uppercase">Summary</span>
        </div>

        <div class="w-12 h-[2px] bg-green-200"></div>

        <div class="flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold"
            >2</span
          >
          <span class="text-xs font-bold text-gray-800 uppercase">Payment</span>
        </div>

        <div class="w-12 h-[2px] bg-gray-200"></div>

        <div class="flex items-center gap-2 opacity-40">
          <span
            class="w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center font-bold"
            >3</span
          >
          <span class="text-xs font-bold text-gray-400 uppercase">Finish</span>
        </div>
      </div>

      <!-- MAIN GRID -->
      <div class="grid md:grid-cols-3 gap-6">
        <!-- LEFT : TOTAL ONLY -->
        <div class="md:col-span-2">
          <div class="bg-white border shadow-sm p-6 text-center">
            <h2
              class="text-lg font-black mb-3 uppercase tracking-widest text-gray-700"
            >
              Total Payable Amount
            </h2>

            <div
              id="payment-total-amount"
              class="text-4xl font-black text-[#2874f0]"
            >
              ₹0
            </div>

            <p class="text-xs text-gray-400 mt-2">
              Inclusive of all taxes & charges
            </p>
          </div>
        </div>

        <!-- RIGHT : PAYMENT OPTIONS -->
        <div class="bg-white border shadow-sm p-6 h-fit">
          <h3 class="text-lg font-black mb-4">PAYMENT OPTIONS</h3>

          <!-- UPI -->
          <label
            class="flex items-center gap-3 p-3 border rounded mb-3 cursor-pointer hover:bg-gray-50"
          >
            <input type="radio" name="method" value="upi" checked />
            <span class="font-bold">UPI (PhonePe / GPay)</span>
          </label>

          <!-- COD -->
          <label
            class="flex items-center gap-3 p-3 border rounded mb-6 cursor-pointer hover:bg-gray-50"
          >
            <input type="radio" name="method" value="cod" />
            <span class="font-bold">Cash on Delivery</span>
          </label>

          <button
            id="pay-now-btn"
            class="w-full bg-[#fb641b] text-white py-4 font-black tracking-wider hover:bg-[#ff4500] transition"
          >
            CONFIRM & PAY
          </button>

          <p class="text-[11px] text-gray-400 text-center mt-4">
            <i class="fas fa-lock mr-1"></i> Secure Payment
          </p>
        </div>
      </div>
    </div>

    <!-- PAYMENT LOGIC -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const buyNowItem = JSON.parse(localStorage.getItem("buyNowItem"));
        const checkoutCart = JSON.parse(localStorage.getItem("checkoutCart"));

        let total = 0;

        if (buyNowItem) {
          total = buyNowItem.price * (buyNowItem.quantity || 1);
        } else if (Array.isArray(checkoutCart)) {
          total = checkoutCart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0,
          );
        }

        document.getElementById("payment-total-amount").innerText =
          "₹" + total.toLocaleString("en-IN");

        document.getElementById("pay-now-btn").innerText =
          "CONFIRM & PAY ₹" + total.toLocaleString("en-IN");
      });
    </script>
  </body>
</html>
